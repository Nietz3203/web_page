---
import { Image } from "astro:assets"
const { title, image, date, pageurl } = Astro.props;

const html = await Astro.slots.render('default');

const plainText = html.replace(/<[^>]*>?/gm, '').trim();
const firstLeter = plainText.charAt(0);
const remainingText = plainText.slice(1);
---

<div class="work">
    <div class="work-titles">
        <h3 class="work-title">{title}</h3>
        <p class="work-date">{date}</p>
    </div>
    <div class="flex">
        <a href={pageurl} class="work-image">
            <Image class="w-80" src={image} alt={title}/>
        </a>
        <p class="drop-cap-text w-80">
            <span class="first-letter">{firstLeter}</span>
            {remainingText}
        </p>
    </div>
</div>